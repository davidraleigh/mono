version: v1
plugins:
  #  protobuf
  - plugin: buf.build/protocolbuffers/cpp:v22.2
    out: cpp/proto
  - plugin: buf.build/protocolbuffers/java:v22.2
    out: java/proto/src/main/java
  - plugin: buf.build/protocolbuffers/python:v22.2
    out: python/proto
  - plugin: buf.build/protocolbuffers/pyi:v22.2
    out: python/proto
  - plugin: buf.build/protocolbuffers/go:v1.28.1
    out: go/proto
    opt: paths=source_relative
  # grpc
  - plugin: buf.build/grpc/cpp:v1.53.0
    out: cpp/proto
  - plugin: buf.build/grpc/java:v1.53.0
    out: java/proto/src/main/java
  - plugin: buf.build/grpc/python:v1.53.0
    out: python/proto
  - plugin: buf.build/grpc/go:v1.3.0
    out: go/proto
    opt:
      - paths=source_relative
      - require_unimplemented_servers=false
